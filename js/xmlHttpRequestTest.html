<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Sample Edit File</title>
<script type="text/javascript"><!--
function getFile() {
  xmlhttp = createXMLHttp();
  if (xmlhttp) {
    xmlhttp.onreadystatechange = check;
    xmlhttp.open("GET", /* method */
                 "read.rb", /* path */ 
                 true /* true:async, false:sync */);
    xmlhttp.send(null);
  }
}

function check() {
  if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
    document.Form.txtArea.value = 
      decodeURIComponent(xmlhttp.responseText);
  }
}

function saveFile(){
  txt = document.Form.txtArea.value;
  if (xmlhttp) {
    xmlhttp.open("GET", "update.rb?text="+encodeURIComponent(txt), true);
    xmlhttp.send(null);
  }
}

function createXMLHttp() { /* for compatibility */
  try {
    return new ActiveXObject ("Microsoft.XMLHTTP");
  }catch(e){
    try {
      return new XMLHttpRequest();
    }catch(e) {
      return null;
    }
  }

  return null;
}

// --></script>
</head>
<body onLoad="getFile()">
<form name="Form">
<input type="button" value="UPDATE" onClick="saveFile()"><br/>
<textarea cols="40" rows="20" name="txtArea"></textarea>
</form>
<br/>
<a href="test.txt">file test.txt</a>
</body>
</html>